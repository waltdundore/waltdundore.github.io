<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Deploy Your Website with Ahab - Complete Tutorial</title>
    <meta name="description" content="Learn to deploy your own website using Ahab. Build a simple site, understand Docker Compose generation, and explore Ansible automation.">
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <nav class="tutorial-nav">
            <a href="index.html" class="nav-back"><i class="fas fa-arrow-left"></i> Back to Home</a>
            <div class="nav-links">
                <a href="#overview">Overview</a>
                <a href="#quick-start">Quick Start</a>
                <a href="#custom-website">Custom Website</a>
                <a href="#understanding">Understanding</a>
                <a href="#advanced">Advanced</a>
                <a href="#troubleshooting">Troubleshooting</a>
            </div>
        </nav>

        <!-- Hero -->
        <section class="tutorial-hero">
            <h1>Deploy Your Website with Ahab</h1>
            <p class="subtitle">From simple HTML to production-ready deployment</p>
            <div class="tutorial-meta">
                <span><i class="fas fa-clock"></i> 45 minutes</span>
                <span><i class="fas fa-signal"></i> Beginner to Intermediate</span>
                <span><i class="fas fa-code"></i> Hands-on coding</span>
            </div>
        </section>

        <!-- Overview -->
        <section id="overview" class="tutorial-section">
            <h2>What You'll Learn</h2>
            
            <div class="info-box">
                <p>This tutorial teaches you to deploy websites using <strong>Ahab's infrastructure automation</strong>. You'll understand both the simple commands and the powerful automation underneath.</p>
            </div>

            <div class="learning-objectives">
                <div class="objective-card">
                    <i class="fas fa-rocket"></i>
                    <h3>Quick Deployment</h3>
                    <p>Deploy Apache with one command: <code>make install apache</code></p>
                </div>
                <div class="objective-card">
                    <i class="fas fa-code"></i>
                    <h3>Custom Website</h3>
                    <p>Build and deploy your own HTML/CSS website</p>
                </div>
                <div class="objective-card">
                    <i class="fas fa-cogs"></i>
                    <h3>Automation Understanding</h3>
                    <p>Learn Docker Compose generation and Ansible deployment</p>
                </div>
                <div class="objective-card">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Security Best Practices</h3>
                    <p>Understand STIG-compliant container security</p>
                </div>
            </div>

            <h3>Prerequisites</h3>
            <div class="prereq-checklist">
                <div class="prereq-item">
                    <i class="fas fa-check-circle"></i>
                    <span>Complete the <a href="tutorial.html">Basic Ahab Tutorial</a> first</span>
                </div>
                <div class="prereq-item">
                    <i class="fas fa-check-circle"></i>
                    <span>Ahab workstation running (<code>make install</code>)</span>
                </div>
                <div class="prereq-item">
                    <i class="fas fa-check-circle"></i>
                    <span>Basic HTML/CSS knowledge (we'll teach you)</span>
                </div>
                <div class="prereq-item">
                    <i class="fas fa-check-circle"></i>
                    <span>Text editor (VS Code, Sublime, or any editor)</span>
                </div>
            </div>
        </section>

        <!-- Quick Start -->
        <section id="quick-start" class="tutorial-section">
            <h2>Quick Start: Deploy Apache</h2>

            <h3>Step 1: Deploy Apache Web Server</h3>
            <p>First, let's deploy Apache using Ahab's simple command:</p>
            <div class="code-block">
                <pre><code># Navigate to ahab directory
cd ahab

# Deploy Apache web server
make install apache</code></pre>
            </div>

            <div class="info-box">
                <i class="fas fa-info-circle"></i>
                <strong>What's happening behind the scenes:</strong>
                <ol>
                    <li>Ahab reads the Apache module definition (<code>modules/apache/module.yml</code>)</li>
                    <li>Generates a Docker Compose file dynamically</li>
                    <li>Deploys Apache in a secure, STIG-compliant container</li>
                    <li>Sets up port forwarding (localhost:8080 ‚Üí container:80)</li>
                </ol>
            </div>

            <h3>Step 2: Verify Deployment</h3>
            <div class="code-block">
                <pre><code># Check if Apache is running
make ssh
docker ps

# Test the web server
curl http://localhost:8080</code></pre>
            </div>

            <h3>Step 3: View in Browser</h3>
            <p>Open your browser and visit:</p>
            <div class="url-box">
                <a href="http://localhost:8080" target="_blank">http://localhost:8080</a>
            </div>

            <div class="success-box">
                <i class="fas fa-check-circle"></i>
                <strong>Success!</strong> You should see the default Ahab welcome page. Apache is now running and ready for your custom content.
            </div>
        </section>

        <!-- Custom Website -->
        <section id="custom-website" class="tutorial-section">
            <h2>Build Your Custom Website</h2>

            <h3>Step 1: Create Your Website Directory</h3>
            <p>Let's create a simple website with multiple pages:</p>
            <div class="code-block">
                <pre><code># SSH into the workstation
make ssh

# Create website directory
mkdir -p /home/vagrant/my-website
cd /home/vagrant/my-website</code></pre>
            </div>

            <h3>Step 2: Create Your HTML Files</h3>
            
            <h4>Main Page (index.html)</h4>
            <div class="code-block">
                <pre><code># Create the main page
cat > index.html << 'EOF'
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Awesome Website</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <h1>My Awesome Website</h1>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h2>Welcome to My Website!</h2>
            <p>This website is deployed using Ahab infrastructure automation.</p>
            <div class="tech-stack">
                <h3>Powered by:</h3>
                <ul>
                    <li>üêã Docker containers</li>
                    <li>üîß Ansible automation</li>
                    <li>üõ°Ô∏è STIG security compliance</li>
                    <li>üöÄ Ahab deployment system</li>
                </ul>
            </div>
        </section>

        <section class="features">
            <h2>What This Demonstrates</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üöÄ Fast Deployment</h3>
                    <p>Deployed with one command: <code>make install apache</code></p>
                </div>
                <div class="feature-card">
                    <h3>üîí Secure by Default</h3>
                    <p>STIG-compliant containers with security hardening</p>
                </div>
                <div class="feature-card">
                    <h3>üì± Responsive Design</h3>
                    <p>Works on desktop, tablet, and mobile devices</p>
                </div>
                <div class="feature-card">
                    <h3>üîß Easy Updates</h3>
                    <p>Edit files and refresh - changes appear instantly</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 My Awesome Website. Deployed with Ahab.</p>
    </footer>
</body>
</html>
EOF</code></pre>
            </div>

            <h4>About Page (about.html)</h4>
            <div class="code-block">
                <pre><code># Create the about page
cat > about.html << 'EOF'
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - My Awesome Website</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <h1>My Awesome Website</h1>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html" class="active">About</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="content">
            <h2>About This Website</h2>
            <p>This website demonstrates modern infrastructure automation using Ahab.</p>
            
            <h3>Technology Stack</h3>
            <div class="tech-details">
                <div class="tech-item">
                    <h4>üêã Docker Containers</h4>
                    <p>Apache runs in an isolated, secure container based on the official httpd:2.4 image.</p>
                </div>
                <div class="tech-item">
                    <h4>üîß Ansible Automation</h4>
                    <p>For production deployments, Ansible handles configuration management and service orchestration.</p>
                </div>
                <div class="tech-item">
                    <h4>üõ°Ô∏è Security Hardening</h4>
                    <p>STIG-compliant security with non-root containers, capability dropping, and resource limits.</p>
                </div>
                <div class="tech-item">
                    <h4>üöÄ Ahab Platform</h4>
                    <p>Infrastructure automation designed for schools and educational environments.</p>
                </div>
            </div>

            <h3>Deployment Process</h3>
            <ol>
                <li><strong>Module Definition:</strong> Apache configuration defined in <code>modules/apache/module.yml</code></li>
                <li><strong>Dynamic Generation:</strong> Docker Compose file generated from module metadata</li>
                <li><strong>Container Deployment:</strong> Secure container launched with proper networking</li>
                <li><strong>Content Mounting:</strong> Website files mounted read-only for security</li>
            </ol>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 My Awesome Website. Deployed with Ahab.</p>
    </footer>
</body>
</html>
EOF</code></pre>
            </div>

            <h4>Projects Page (projects.html)</h4>
            <div class="code-block">
                <pre><code># Create the projects page
cat > projects.html << 'EOF'
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - My Awesome Website</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <h1>My Awesome Website</h1>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="projects.html" class="active">Projects</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="content">
            <h2>My Projects</h2>
            <p>Here are some projects I've built using modern web technologies:</p>
            
            <div class="project-grid">
                <div class="project-card">
                    <h3>üåê Personal Website</h3>
                    <p>This very website! Built with HTML, CSS, and deployed using Ahab infrastructure automation.</p>
                    <div class="project-tech">
                        <span>HTML5</span>
                        <span>CSS3</span>
                        <span>Docker</span>
                        <span>Ahab</span>
                    </div>
                </div>
                
                <div class="project-card">
                    <h3>üìö Learning Management System</h3>
                    <p>A simple LMS for tracking student progress and assignments.</p>
                    <div class="project-tech">
                        <span>Python</span>
                        <span>Flask</span>
                        <span>SQLite</span>
                        <span>Bootstrap</span>
                    </div>
                </div>
                
                <div class="project-card">
                    <h3>üéÆ Simple Game</h3>
                    <p>A browser-based puzzle game built with vanilla JavaScript.</p>
                    <div class="project-tech">
                        <span>JavaScript</span>
                        <span>HTML5 Canvas</span>
                        <span>CSS3</span>
                    </div>
                </div>
                
                <div class="project-card">
                    <h3>üìä Data Dashboard</h3>
                    <p>Interactive dashboard for visualizing school performance data.</p>
                    <div class="project-tech">
                        <span>React</span>
                        <span>D3.js</span>
                        <span>Node.js</span>
                        <span>PostgreSQL</span>
                    </div>
                </div>
            </div>

            <h3>Want to Build Your Own?</h3>
            <p>Follow the <a href="tutorial.html">Ahab Tutorial</a> to learn infrastructure automation and deploy your own projects!</p>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 My Awesome Website. Deployed with Ahab.</p>
    </footer>
</body>
</html>
EOF</code></pre>
            </div>

            <h4>Contact Page (contact.html)</h4>
            <div class="code-block">
                <pre><code># Create the contact page
cat > contact.html << 'EOF'
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - My Awesome Website</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav>
            <h1>My Awesome Website</h1>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="contact.html" class="active">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="content">
            <h2>Get In Touch</h2>
            <p>Want to learn more about infrastructure automation or collaborate on a project?</p>
            
            <div class="contact-grid">
                <div class="contact-card">
                    <h3>üìß Email</h3>
                    <p>student@example.com</p>
                </div>
                
                <div class="contact-card">
                    <h3>üíº LinkedIn</h3>
                    <p>linkedin.com/in/yourprofile</p>
                </div>
                
                <div class="contact-card">
                    <h3>üêô GitHub</h3>
                    <p>github.com/yourusername</p>
                </div>
                
                <div class="contact-card">
                    <h3>üê¶ Twitter</h3>
                    <p>@yourusername</p>
                </div>
            </div>

            <div class="contact-form">
                <h3>Send a Message</h3>
                <form>
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="subject">Subject:</label>
                        <input type="text" id="subject" name="subject" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Message:</label>
                        <textarea id="message" name="message" rows="5" required></textarea>
                    </div>
                    
                    <button type="submit">Send Message</button>
                </form>
                <p class="form-note"><em>Note: This is a demo form. In a real application, you'd need backend processing.</em></p>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 My Awesome Website. Deployed with Ahab.</p>
    </footer>
</body>
</html>
EOF</code></pre>
            </div>

            <h3>Step 3: Create Your CSS Stylesheet</h3>
            <div class="code-block">
                <pre><code># Create the stylesheet
cat > style.css << 'EOF'
/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #f8f9fa;
}

/* Header and Navigation */
header {
    background: linear-gradient(135deg, #0066cc 0%, #003d7a 100%);
    color: white;
    padding: 1rem 0;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

nav {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
}

nav h1 {
    font-size: 1.8rem;
    font-weight: 600;
}

nav ul {
    display: flex;
    list-style: none;
    gap: 2rem;
}

nav a {
    color: white;
    text-decoration: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    transition: background-color 0.3s ease;
}

nav a:hover,
nav a.active {
    background-color: rgba(255,255,255,0.2);
}

/* Main Content */
main {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
}

/* Hero Section */
.hero {
    text-align: center;
    padding: 4rem 2rem;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    margin-bottom: 3rem;
}

.hero h2 {
    font-size: 2.5rem;
    color: #0066cc;
    margin-bottom: 1rem;
}

.hero p {
    font-size: 1.2rem;
    color: #666;
    margin-bottom: 2rem;
}

.tech-stack {
    background: #f8f9fa;
    padding: 2rem;
    border-radius: 8px;
    margin-top: 2rem;
}

.tech-stack h3 {
    color: #0066cc;
    margin-bottom: 1rem;
}

.tech-stack ul {
    list-style: none;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.tech-stack li {
    background: white;
    padding: 1rem;
    border-radius: 6px;
    border-left: 4px solid #0066cc;
    font-weight: 500;
}

/* Feature Grid */
.features {
    margin: 3rem 0;
}

.features h2 {
    text-align: center;
    color: #333;
    margin-bottom: 2rem;
    font-size: 2rem;
}

.feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
}

.feature-card {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 30px rgba(0,0,0,0.15);
}

.feature-card h3 {
    color: #0066cc;
    margin-bottom: 1rem;
    font-size: 1.3rem;
}

.feature-card code {
    background: #f4f4f4;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.9rem;
}

/* Content Sections */
.content {
    background: white;
    padding: 3rem;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}

.content h2 {
    color: #0066cc;
    margin-bottom: 1.5rem;
    font-size: 2rem;
}

.content h3 {
    color: #333;
    margin: 2rem 0 1rem 0;
    font-size: 1.4rem;
}

.content h4 {
    color: #0066cc;
    margin: 1.5rem 0 0.5rem 0;
}

.content p {
    margin-bottom: 1rem;
    color: #555;
}

.content ol,
.content ul {
    margin: 1rem 0 1rem 2rem;
}

.content li {
    margin-bottom: 0.5rem;
    color: #555;
}

/* Tech Details */
.tech-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.tech-item {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 8px;
    border-left: 4px solid #0066cc;
}

.tech-item h4 {
    color: #0066cc;
    margin-bottom: 0.5rem;
}

/* Project Grid */
.project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.project-card {
    background: #f8f9fa;
    padding: 2rem;
    border-radius: 12px;
    border-top: 4px solid #0066cc;
    transition: transform 0.3s ease;
}

.project-card:hover {
    transform: translateY(-3px);
}

.project-card h3 {
    color: #0066cc;
    margin-bottom: 1rem;
}

.project-tech {
    margin-top: 1rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.project-tech span {
    background: #0066cc;
    color: white;
    padding: 0.3rem 0.8rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 500;
}

/* Contact Grid */
.contact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.contact-card {
    background: #f8f9fa;
    padding: 2rem;
    border-radius: 12px;
    text-align: center;
    border-top: 4px solid #0066cc;
}

.contact-card h3 {
    color: #0066cc;
    margin-bottom: 1rem;
}

/* Contact Form */
.contact-form {
    background: #f8f9fa;
    padding: 2rem;
    border-radius: 12px;
    margin-top: 3rem;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: #333;
}

.form-group input,
.form-group textarea {
    width: 100%;
    padding: 0.8rem;
    border: 2px solid #ddd;
    border-radius: 6px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
}

.form-group input:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #0066cc;
}

button {
    background: #0066cc;
    color: white;
    padding: 1rem 2rem;
    border: none;
    border-radius: 6px;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

button:hover {
    background: #003d7a;
}

.form-note {
    margin-top: 1rem;
    font-size: 0.9rem;
    color: #666;
}

/* Footer */
footer {
    background: #333;
    color: white;
    text-align: center;
    padding: 2rem;
    margin-top: 3rem;
}

/* Responsive Design */
@media (max-width: 768px) {
    nav {
        flex-direction: column;
        gap: 1rem;
    }
    
    nav ul {
        gap: 1rem;
    }
    
    .hero {
        padding: 2rem 1rem;
    }
    
    .hero h2 {
        font-size: 2rem;
    }
    
    main {
        padding: 1rem;
    }
    
    .content {
        padding: 2rem 1.5rem;
    }
    
    .tech-stack ul {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    nav ul {
        flex-direction: column;
        width: 100%;
        text-align: center;
    }
    
    .hero h2 {
        font-size: 1.8rem;
    }
    
    .feature-grid,
    .project-grid,
    .contact-grid {
        grid-template-columns: 1fr;
    }
}
EOF</code></pre>
            </div>

            <h3>Step 4: Deploy Your Custom Website</h3>
            <p>Now let's deploy your custom website by updating the Apache container:</p>
            <div class="code-block">
                <pre><code># Stop the current Apache container
docker stop ahab_apache
docker rm ahab_apache

# Start Apache with your custom website
docker run -d \
  --name ahab_apache \
  -p 8080:80 \
  -v /home/vagrant/my-website:/usr/local/apache2/htdocs:ro \
  --security-opt no-new-privileges:true \
  --cap-drop ALL \
  --cap-add NET_BIND_SERVICE \
  httpd:2.4</code></pre>
            </div>

            <h3>Step 5: View Your Website</h3>
            <p>Open your browser and visit your custom website:</p>
            <div class="url-box">
                <a href="http://localhost:8080" target="_blank">http://localhost:8080</a>
            </div>

            <div class="success-box">
                <i class="fas fa-check-circle"></i>
                <strong>Congratulations!</strong> You've deployed your own custom website using Ahab infrastructure automation!
            </div>

            <h3>Step 6: Make Changes and See Updates</h3>
            <p>Edit any of your HTML or CSS files and refresh your browser - changes appear instantly!</p>
            <div class="code-block">
                <pre><code># Edit your website (example)
nano /home/vagrant/my-website/index.html

# Save and refresh browser - changes appear immediately!</code></pre>
            </div>
        </section>

        <!-- Understanding -->
        <section id="understanding" class="tutorial-section">
            <h2>Understanding the Automation</h2>

            <h3>The Ahab Architecture</h3>
            <div class="architecture-diagram">
                <div class="arch-layer">
                    <div class="arch-box">
                        <i class="fas fa-terminal"></i>
                        <h4>Command</h4>
                        <p><code>make install apache</code></p>
                    </div>
                </div>
                <div class="arch-arrow-down">‚Üì</div>
                <div class="arch-layer">
                    <div class="arch-box">
                        <i class="fas fa-file-code"></i>
                        <h4>Module Definition</h4>
                        <p><code>modules/apache/module.yml</code></p>
                    </div>
                </div>
                <div class="arch-arrow-down">‚Üì</div>
                <div class="arch-layer">
                    <div class="arch-box">
                        <i class="fab fa-python"></i>
                        <h4>Dynamic Generation</h4>
                        <p><code>generate-docker-compose.py</code></p>
                    </div>
                </div>
                <div class="arch-arrow-down">‚Üì</div>
                <div class="arch-layer">
                    <div class="arch-box">
                        <i class="fab fa-docker"></i>
                        <h4>Docker Compose</h4>
                        <p>STIG-compliant containers</p>
                    </div>
                </div>
            </div>

            <h3>Module Definition (module.yml)</h3>
            <p>Every service in Ahab is defined by a <code>module.yml</code> file. Here's the Apache module:</p>
            <div class="code-block">
                <pre><code>name: apache
version: 1.0.0
description: Apache HTTP Server 2.4 - Industry-standard web server
platforms:
  - fedora
  - debian
  - ubuntu
docker:
  image: httpd:2.4
  container_name: ahab_apache
  ports:
    - "8080:80"
  volumes:
    - ./html:/usr/local/apache2/htdocs:ro
  restart: unless-stopped
  networks:
    - ahab_network
dependencies: []</code></pre>
            </div>

            <div class="info-box">
                <i class="fas fa-lightbulb"></i>
                <strong>Future Enhancement:</strong> In upcoming versions, the entire configuration will be dynamically generated, allowing you to customize ports, volumes, and security settings through simple configuration files.
            </div>

            <h3>Dynamic Docker Compose Generation</h3>
            <p>When you run <code>make install apache</code>, Ahab:</p>
            <ol>
                <li><strong>Reads</strong> the module definition from <code>modules/apache/module.yml</code></li>
                <li><strong>Generates</strong> a Docker Compose file with STIG-compliant security settings</li>
                <li><strong>Adds</strong> security options automatically (non-root user, capability dropping, resource limits)</li>
                <li><strong>Deploys</strong> the container with proper networking and volume mounts</li>
            </ol>

            <h4>Generated Docker Compose (docker-compose.yml)</h4>
            <div class="code-block">
                <pre><code>services:
  apache:
    image: httpd:2.4
    container_name: ahab_apache
    ports:
      - "8080:80"
    volumes:
      - ./html:/usr/local/apache2/htdocs:ro
    restart: unless-stopped
    networks:
      - ahab_network
    # STIG-compliant security (added automatically)
    security_opt:
      - no-new-privileges:true
      - seccomp:default
    cap_drop:
      - ALL
    cap_add:
      - NET_BIND_SERVICE
    deploy:
      resources:
        limits:
          cpus: '0.5'
          memory: 512M
        reservations:
          cpus: '0.25'
          memory: 256M
    labels:
      com.ahab.module: apache
      com.ahab.version: 1.0.0
      com.ahab.stig-compliant: 'true'

networks:
  ahab_network:
    driver: bridge</code></pre>
            </div>

            <h3>Ansible Integration (Production Deployments)</h3>
            <p>For production environments, Ahab uses Ansible for configuration management:</p>

            <h4>Apache Ansible Role Structure</h4>
            <div class="code-block">
                <pre><code>roles/apache/
‚îú‚îÄ‚îÄ tasks/main.yml          # Installation and configuration tasks
‚îú‚îÄ‚îÄ defaults/main.yml       # Default variables
‚îú‚îÄ‚îÄ vars/
‚îÇ   ‚îú‚îÄ‚îÄ RedHat.yml         # Fedora/RHEL-specific variables
‚îÇ   ‚îî‚îÄ‚îÄ Debian.yml         # Debian/Ubuntu-specific variables
‚îú‚îÄ‚îÄ handlers/main.yml       # Service restart handlers
‚îî‚îÄ‚îÄ meta/main.yml          # Role metadata</code></pre>
            </div>

            <h4>Key Ansible Tasks</h4>
            <div class="code-block">
                <pre><code># Package installation (OS-specific)
- name: Install Apache packages (RedHat family)
  package:
    name: "{{ apache_packages }}"
    state: present
  when: ansible_os_family == "RedHat"

# Security configuration
- name: Disable directory listing
  lineinfile:
    path: "{{ apache_config_file }}"
    regexp: '^\s*Options.*Indexes'
    line: '    Options -Indexes +FollowSymLinks'
    state: present
  notify: restart apache

# Firewall configuration
- name: Configure firewall for HTTP (firewalld)
  firewalld:
    service: http
    permanent: yes
    state: enabled
    immediate: yes
  when: ansible_os_family == "RedHat"</code></pre>
            </div>

            <h3>Security Features (STIG Compliance)</h3>
            <div class="security-features">
                <div class="security-card">
                    <h4>üõ°Ô∏è Container Security</h4>
                    <ul>
                        <li>Non-root user execution</li>
                        <li>Capability dropping (ALL capabilities removed)</li>
                        <li>No new privileges allowed</li>
                        <li>Seccomp filtering enabled</li>
                        <li>Read-only volume mounts</li>
                    </ul>
                </div>
                <div class="security-card">
                    <h4>üìä Resource Limits</h4>
                    <ul>
                        <li>CPU limits (0.5 cores max)</li>
                        <li>Memory limits (512MB max)</li>
                        <li>Process limits (prevents fork bombs)</li>
                        <li>Network isolation</li>
                    </ul>
                </div>
                <div class="security-card">
                    <h4>üîí Apache Hardening</h4>
                    <ul>
                        <li>Directory listing disabled</li>
                        <li>Server tokens minimized</li>
                        <li>Server signature disabled</li>
                        <li>Firewall rules configured</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Advanced -->
        <section id="advanced" class="tutorial-section">
            <h2>Advanced Topics</h2>

            <h3>Creating Custom Modules</h3>
            <p>You can create your own service modules for Ahab deployment:</p>

            <h4>Example: Node.js Application Module</h4>
            <div class="code-block">
                <pre><code># Create module directory
mkdir -p modules/nodejs-app

# Create module definition
cat > modules/nodejs-app/module.yml << 'EOF'
name: nodejs-app
version: 1.0.0
description: Node.js application server
platforms:
  - fedora
  - debian
  - ubuntu
docker:
  image: node:18-alpine
  container_name: ahab_nodejs
  ports:
    - "3000:3000"
  volumes:
    - ./app:/usr/src/app:ro
    - /usr/src/app/node_modules
  working_dir: /usr/src/app
  command: ["npm", "start"]
  restart: unless-stopped
  networks:
    - ahab_network
  environment:
    NODE_ENV: production
dependencies: []
EOF

# Deploy your Node.js app
make install nodejs-app</code></pre>
            </div>

            <h3>Multi-Service Deployments</h3>
            <p>Deploy multiple services together with automatic dependency resolution:</p>
            <div class="code-block">
                <pre><code># Deploy a complete LAMP stack
make install apache mysql php

# Deploy a modern web stack
make install nginx nodejs-app redis</code></pre>
            </div>

            <h3>Production Deployment with Ansible</h3>
            <p>For production environments, use Ansible playbooks:</p>
            <div class="code-block">
                <pre><code># Configure production inventory
cp inventory/production.template inventory/prod/hosts.yml
# Edit hosts.yml with your server details

# Deploy to production
ansible-playbook -i inventory/prod/hosts.yml playbooks/webservers.yml

# Deploy with specific tags
ansible-playbook -i inventory/prod/hosts.yml playbooks/webservers.yml --tags "apache,security"</code></pre>
            </div>

            <h3>Custom Configuration</h3>
            <p>Override default settings with custom configuration:</p>
            <div class="code-block">
                <pre><code># Create custom Apache configuration
mkdir -p config/apache
cat > config/apache/custom.conf << 'EOF'
# Custom Apache configuration
ServerTokens Prod
ServerSignature Off
Header always set X-Frame-Options DENY
Header always set X-Content-Type-Options nosniff
EOF

# Mount custom config in container
docker run -d \
  --name ahab_apache \
  -p 8080:80 \
  -v /home/vagrant/my-website:/usr/local/apache2/htdocs:ro \
  -v /home/vagrant/config/apache/custom.conf:/usr/local/apache2/conf/extra/custom.conf:ro \
  httpd:2.4</code></pre>
            </div>

            <h3>Monitoring and Logging</h3>
            <div class="code-block">
                <pre><code># View container logs
docker logs ahab_apache

# Follow logs in real-time
docker logs -f ahab_apache

# Check container resource usage
docker stats ahab_apache

# Inspect container configuration
docker inspect ahab_apache</code></pre>
            </div>
        </section>

        <!-- Troubleshooting -->
        <section id="troubleshooting" class="tutorial-section">
            <h2>Troubleshooting</h2>

            <div class="troubleshooting-grid">
                <div class="trouble-card">
                    <h3>üö´ Can't Access Website</h3>
                    <h4>Symptoms:</h4>
                    <ul>
                        <li>Browser shows "This site can't be reached"</li>
                        <li>Connection refused error</li>
                    </ul>
                    <h4>Solutions:</h4>
                    <div class="code-block">
                        <pre><code># Check if container is running
docker ps

# Check if Apache is listening
docker exec ahab_apache netstat -tlnp

# Check port forwarding
vagrant ssh -c "curl http://localhost:8080"

# Restart container if needed
docker restart ahab_apache</code></pre>
                    </div>
                </div>

                <div class="trouble-card">
                    <h3>üìÅ File Changes Not Showing</h3>
                    <h4>Symptoms:</h4>
                    <ul>
                        <li>Edited files but website unchanged</li>
                        <li>Old content still showing</li>
                    </ul>
                    <h4>Solutions:</h4>
                    <div class="code-block">
                        <pre><code># Check file permissions
ls -la /home/vagrant/my-website/

# Verify volume mount
docker inspect ahab_apache | grep -A 10 Mounts

# Clear browser cache
# Ctrl+F5 (Windows/Linux) or Cmd+Shift+R (Mac)

# Restart container to refresh mounts
docker restart ahab_apache</code></pre>
                    </div>
                </div>

                <div class="trouble-card">
                    <h3>üîí Permission Denied Errors</h3>
                    <h4>Symptoms:</h4>
                    <ul>
                        <li>403 Forbidden errors</li>
                        <li>Can't read files</li>
                    </ul>
                    <h4>Solutions:</h4>
                    <div class="code-block">
                        <pre><code># Fix file permissions
chmod -R 644 /home/vagrant/my-website/*.html
chmod -R 644 /home/vagrant/my-website/*.css
chmod 755 /home/vagrant/my-website/

# Check SELinux context (Fedora)
ls -Z /home/vagrant/my-website/

# Fix SELinux labels if needed
sudo setsebool -P container_manage_cgroup on</code></pre>
                    </div>
                </div>

                <div class="trouble-card">
                    <h3>üêã Container Won't Start</h3>
                    <h4>Symptoms:</h4>
                    <ul>
                        <li>Docker run command fails</li>
                        <li>Container exits immediately</li>
                    </ul>
                    <h4>Solutions:</h4>
                    <div class="code-block">
                        <pre><code># Check Docker daemon
systemctl status docker

# View container logs
docker logs ahab_apache

# Check for port conflicts
netstat -tlnp | grep 8080

# Remove and recreate container
docker rm -f ahab_apache
make install apache</code></pre>
                    </div>
                </div>

                <div class="trouble-card">
                    <h3>üåê CSS/Styling Not Loading</h3>
                    <h4>Symptoms:</h4>
                    <ul>
                        <li>Website loads but no styling</li>
                        <li>Plain HTML appearance</li>
                    </ul>
                    <h4>Solutions:</h4>
                    <div class="code-block">
                        <pre><code># Check CSS file exists
ls -la /home/vagrant/my-website/style.css

# Verify CSS link in HTML
grep -n "style.css" /home/vagrant/my-website/index.html

# Check browser developer tools (F12)
# Look for 404 errors in Network tab

# Verify MIME type
curl -I http://localhost:8080/style.css</code></pre>
                    </div>
                </div>

                <div class="trouble-card">
                    <h3>‚ö° Performance Issues</h3>
                    <h4>Symptoms:</h4>
                    <ul>
                        <li>Slow page loading</li>
                        <li>High resource usage</li>
                    </ul>
                    <h4>Solutions:</h4>
                    <div class="code-block">
                        <pre><code># Check resource usage
docker stats ahab_apache

# Monitor system resources
htop

# Optimize images (if any)
# Use compressed formats (WebP, optimized PNG/JPEG)

# Enable Apache compression
# Add to custom.conf:
# LoadModule deflate_module modules/mod_deflate.so
# SetOutputFilter DEFLATE</code></pre>
                    </div>
                </div>
            </div>

            <h3>Getting Help</h3>
            <div class="help-resources">
                <div class="help-card">
                    <h4>üìö Documentation</h4>
                    <ul>
                        <li><a href="https://github.com/waltdundore/ahab/blob/prod/README.md" target="_blank">Ahab README</a></li>
                        <li><a href="https://github.com/waltdundore/ahab/blob/prod/TROUBLESHOOTING.md" target="_blank">Troubleshooting Guide</a></li>
                        <li><a href="https://docs.docker.com/" target="_blank">Docker Documentation</a></li>
                    </ul>
                </div>
                <div class="help-card">
                    <h4>üêõ Report Issues</h4>
                    <ul>
                        <li><a href="https://github.com/waltdundore/ahab/issues" target="_blank">GitHub Issues</a></li>
                        <li><a href="https://github.com/waltdundore/ahab/discussions" target="_blank">GitHub Discussions</a></li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Next Steps -->
        <section class="tutorial-section">
            <h2>Next Steps</h2>

            <div class="next-steps-grid">
                <div class="step-card">
                    <h3>üöÄ Deploy More Services</h3>
                    <p>Try deploying databases, APIs, and other services:</p>
                    <ul>
                        <li><code>make install mysql</code> - Database server</li>
                        <li><code>make install php</code> - PHP runtime</li>
                        <li><code>make install nginx</code> - Alternative web server</li>
                    </ul>
                </div>

                <div class="step-card">
                    <h3>üîß Learn Ansible</h3>
                    <p>Understand the automation behind Ahab:</p>
                    <ul>
                        <li>Study the <code>roles/apache/</code> directory</li>
                        <li>Explore Ansible playbooks</li>
                        <li>Learn about inventory management</li>
                    </ul>
                </div>

                <div class="step-card">
                    <h3>üêã Master Docker</h3>
                    <p>Dive deeper into containerization:</p>
                    <ul>
                        <li>Learn Docker Compose</li>
                        <li>Understand container security</li>
                        <li>Explore multi-stage builds</li>
                    </ul>
                </div>

                <div class="step-card">
                    <h3>üè´ Use in Education</h3>
                    <p>Bring Ahab to your classroom:</p>
                    <ul>
                        <li>Read the <a href="https://github.com/waltdundore/ahab/blob/prod/EXECUTIVE_SUMMARY.md" target="_blank">Executive Summary</a></li>
                        <li>Check <a href="https://github.com/waltdundore/ahab/blob/prod/GEORGIA_STANDARDS_VERIFICATION.md" target="_blank">Standards Alignment</a></li>
                        <li>Explore educational use cases</li>
                    </ul>
                </div>
            </div>

            <div class="cta-section">
                <h3>Ready to Build More?</h3>
                <p>You've learned the fundamentals of infrastructure automation with Ahab. Now you can:</p>
                <ul>
                    <li>Deploy production-ready web services</li>
                    <li>Understand modern DevOps practices</li>
                    <li>Build secure, scalable applications</li>
                    <li>Teach others infrastructure automation</li>
                </ul>
                <div class="cta-buttons">
                    <a href="tutorial.html" class="btn-primary">Back to Main Tutorial</a>
                    <a href="https://github.com/waltdundore/ahab" target="_blank" class="btn-secondary">Explore on GitHub</a>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Ahab Software, LLC</h3>
                    <p>Infrastructure Automation for Education</p>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <a href="index.html">Home</a>
                    <a href="tutorial.html">Basic Tutorial</a>
                    <a href="deploy-website-tutorial.html">Website Deployment</a>
                    <a href="https://github.com/waltdundore/ahab" target="_blank">Documentation</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Ahab Software, LLC. Licensed under CC BY-NC-SA 4.0 for educational use.</p>
            </div>
        </footer>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Highlight active navigation item
        window.addEventListener('scroll', () => {
            let current = '';
            const sections = document.querySelectorAll('section[id]');
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (scrollY >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>